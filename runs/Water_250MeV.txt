# KAVACH BL4S - Water Phantom Validation: 250 MeV Proton
# Framework generalization to medical physics standard (Water)

i:Ts/Seed = 9650
i:Ts/NumberOfThreads = 4
i:Ts/ShowHistoryCountAtInterval = 1000
b:Ts/PauseBeforeQuit = "False"
b:Ts/ShowCPUTime = "True"
i:Ts/SequenceVerbosity = 0

# Physics with fine cuts
s:Ph/ListName = "Research"
s:Ph/Research/Type = "Geant4_Modular"
sv:Ph/Research/Modules = 3 "g4em-standard_opt4" "g4h-phy_QGSP_BIC_HP" "g4decay"
d:Ph/Research/CutForGamma = 0.05 mm
d:Ph/Research/CutForElectron = 0.05 mm
d:Ph/Research/CutForPositron = 0.05 mm
d:Ph/Research/CutForProton = 0.05 mm

# World
s:Ge/World/Material = "G4_AIR"
d:Ge/World/HLX = 50.0 cm
d:Ge/World/HLY = 50.0 cm
d:Ge/World/HLZ = 200.0 cm
b:Ge/World/Invisible = "True"

# Water Phantom (G4_WATER is built-in)
# Dimensions match EJ-200 simulation for direct comparison

# Target
s:Ge/TargetWater/Type = "TsBox"
s:Ge/TargetWater/Parent = "World"
s:Ge/TargetWater/Material = "G4_WATER"
d:Ge/TargetWater/HLX = 25.0 mm
d:Ge/TargetWater/HLY = 25.0 mm
d:Ge/TargetWater/HLZ = 5.0 mm
d:Ge/TargetWater/TransZ = 0.0 cm
s:Ge/TargetWater/Color = "blue"

# Proton beam
s:So/Proton/Type = "Beam"
s:So/Proton/Component = "BeamPosition"
s:So/Proton/BeamParticle = "proton"
d:So/Proton/BeamEnergy = 250 MeV
u:So/Proton/BeamEnergySpread = 0.01
s:So/Proton/BeamPositionDistribution = "Gaussian"
s:So/Proton/BeamPositionCutoffShape = "Ellipse"
d:So/Proton/BeamPositionCutoffX = 15.0 mm
d:So/Proton/BeamPositionCutoffY = 15.0 mm
d:So/Proton/BeamPositionSpreadX = 5.0 mm
d:So/Proton/BeamPositionSpreadY = 5.0 mm
s:So/Proton/BeamAngularDistribution = "Gaussian"
d:So/Proton/BeamAngularCutoffX = 90. deg
d:So/Proton/BeamAngularCutoffY = 90. deg
d:So/Proton/BeamAngularSpreadX = 0.001 rad
d:So/Proton/BeamAngularSpreadY = 0.001 rad
i:So/Proton/NumberOfHistoriesInRun = 10000

# Scorers
s:Sc/EnergyDep/Quantity = "EnergyDeposit"
s:Sc/EnergyDep/Component = "TargetWater"
s:Sc/EnergyDep/OutputFile = "Water_EnergyDep_250MeV"
s:Sc/EnergyDep/OutputType = "csv"
b:Sc/EnergyDep/OutputToConsole = "TRUE"
s:Sc/EnergyDep/IfOutputFileAlreadyExists = "Overwrite"

s:Sc/Dose/Quantity = "DoseToMedium"
s:Sc/Dose/Component = "TargetWater"
s:Sc/Dose/OutputFile = "Water_Dose_250MeV"
s:Sc/Dose/OutputType = "csv"
b:Sc/Dose/OutputToConsole = "TRUE"
s:Sc/Dose/IfOutputFileAlreadyExists = "Overwrite"

s:Sc/EnergyDepZ/Quantity = "EnergyDeposit"
s:Sc/EnergyDepZ/Component = "TargetWater"
s:Sc/EnergyDepZ/OutputFile = "Water_EnergyDepZ_250MeV"
s:Sc/EnergyDepZ/OutputType = "csv"
s:Sc/EnergyDepZ/IfOutputFileAlreadyExists = "Overwrite"
i:Sc/EnergyDepZ/ZBins = 100

s:Sc/OutputDir = "../output/water/"
